{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{% extends '@EasyAdmin/page/content.html.twig' %}

{% block page_title 'Bienvenue sur le backoffice d\'O\'Cooking' %}


{% block page_content %}
    <div>
        {{dump(signaledRecipes)}}
        
        <p class="h4">Recettes signalées : {{NbSignaledRecipes}}</p>
        <table class="table">
            <thead>
                <tr class="row">
                <th scope="col" >ID</th>
                <th scope="col" >Photo</th>
                <th scope="col" class="col-2">Informations générales</th>
                <th scope="col" class="col-2">Durée</th>
                <th scope="col" class="col-2">Ingrédients</th>
                <th scope="col" class="col-3">Préparation</th>
                <th scope="col" style="text-align: center;">Action</th>
                </tr>
            </thead>
            {% for recipe in signaledRecipes %}
                <tr>
                    <th scope="row" style="vertical-align: middle;">{{ recipe.id }}</th>
                    <td style="vertical-align: middle; text-align: center;">
                        {% if recipe.picture is null%}
                            <i class="fas fa-camera fa-4x"></i>
                        {% else %}
                            <img src="{{ asset(recipe.picture) }}" alt="Photo de la recette">
                        {% endif %}
                    </td>
                    <td style="vertical-align: middle;">
                        <ul style="list-style: none; padding: 0;">
                            <li>{{ recipe.name }}</li>
                            <li>Par {{ recipe.author.pseudo }}</li>
                            <li>Créée le {{ recipe.createdAt }}</li>
                            <li>Catégorie : {{ recipe.category.name }}</li>
                            <li>Tag(s) :</li>
                        </ul>
                    </td>
                    <td style="vertical-align: middle;">
                        <ul style="list-style: none; padding: 0;">
                            <li>Préparation : {{ recipe.preparationTime }}</li>
                            <li>Cuisson : {{ recipe.cookingTime }}</li>
                        </ul>
                    </td>
                    <td style="vertical-align: middle;">
                        <ul style="list-style: none; padding: 0;">
                            {% for ingredient in recipe.recipeIngredients %}
                                <li>- {{ ingredient.quantity }}</li>
                            {% endfor %}
                        </ul>
                    </td>
                    <td style="vertical-align: middle;">
                        <ol>
                            {% for step in recipe.steps %}
                                <li>{{ step.description }}</li>
                            {% endfor %}
                        </ol>
                    </td>
                    <td style="vertical-align: middle;">
                        <ul style="list-style: none; padding: 0;">
                            <li style="text-align: center; margin-bottom: 35px;">
                                <a href=""><i class="fas fa-unlink fa-lg success"></i></a>
                            </li>
                            <li style="text-align: center;">
                                <a href=""><i class="fas fa-trash fa-lg danger"></i></a>
                            </li>
                        </ul>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
    
{% endblock %}
